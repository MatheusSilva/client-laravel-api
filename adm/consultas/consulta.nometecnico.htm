<!DOCTYPE html> 
<html lang="pt-br">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Cat&aacute;logo de Jogos</title>
        <link rel="stylesheet" type="text/css" href="../../css/layoutadm.css" />

        <script type="text/javascript" src="../../javascript/scripts.min.js"></script>
		<script type="text/javascript">
			Util.logado();
		</script>

		<link rel="stylesheet" href="../../css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u">

		<link rel="stylesheet" href="../../css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp">

		<link rel="stylesheet" type="text/css" href="../../css/jquery.dataTables.min.css"/>

		<script src="../../javascript/jquery.min.js"></script>

		<script src="../../javascript/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"></script>
 
		<script type="text/javascript" src="../../javascript/jquery.dataTables.min.js"></script>

		<script src="../../javascript/TableTools.min.js"></script>

		<script src="../../javascript/dataTables.select.min.js"></script>

		<script type="text/javascript">

		    $(document).ready(function(){
		    	var jwtoken = '';
        		jwtoken = Util.getCookie('token');

		         var table = $('#tabela01').dataTable( {
		          processing: true,
		          serverSide: true,
		      	  dom: "Bfrtip",		
		          ajax : {
		             "url": 'http://localhost/laravel-api/public/api/v1/tecnicos',
		             "dataType": 'json',
		             "type": "GET",
		             "beforeSend": function(xhr){
		                xhr.setRequestHeader('Authorization', 'Bearer ' + jwtoken);
		             }
		          },
		          columns: [
		            {
		            "class": "details-control",
		            "orderable": false,
		            "searchable": false,
		            "searchable": false,
		            "data": null, render: function ( data, type, row ) {
                		// Combine the first and last names into a single table field
                		detalhes = "<a href=\"../consultas/detalhe.tecnico.htm?codigo="
                            + data.codigo_tecnico
                            + "\"><span class='glyphicon glyphicon-info-sign' aria-hidden='true'></span></a>";

                            alterar = "<span>  </span><a href=\"../formularios/alterar.tecnico.htm?codigo="
                            + data.codigo_tecnico
                            + "\"><span class='glyphicon glyphicon-edit' aria-hidden='true'></span></a>";

                            excluir = "<span>  </span><a href=\"javascript:Tecnico.confirmar("
                            + data.codigo_tecnico
                            + ")\"><span class='glyphicon glyphicon-trash' aria-hidden='true'></span></a>";

                            //console.log(row);
                            return detalhes+alterar+excluir;
            		}, 
		            "defaultContent": "",
		            },

		            { "data": "codigo_tecnico" , name: 'codigo_tecnico', "width": "60px" },
		            { "data": "nome" },
		          ],
		          select: true,
		          
		          'language': {
                    'url': '../../javascript/Portuguese-Brasil.json'
                  }
		          
		       });

		    });     
		    
		</script>

		<noscript>Seu navegador não suporta JavaScript ou mesmo foi desabilitado!</noscript>
	</head>
	
	<body>
		<header>
			<div id="headerimg"></div>

	        <nav class="navbar navbar-default">
	            <a class="navbar-brand" href="../paginas/home.htm">Home</a>
				<a class="navbar-brand" href="../paginas/cadastros.htm">Cadastros</a>
				<a class="navbar-brand" href="../paginas/administrar.htm">Administrar</a>
				<a class="navbar-brand" href="../paginas/consultas.htm">Consultas</a>
				<a class="navbar-brand" href="../formularios/logout.htm">Sair</a>
	        </nav>
		</header>
			
		<div name="conteudo" class="container-fluid">
			<table id="tabela01" class="display table table-striped table-condensed table-bordered table-hover" cellspacing="0" width="50%">
				<caption class="titulo">Consulta por nome as técnicos</caption>
		        <thead>
		            <tr>
		            	<th style="width:60px;" class="">A&ccedil;&otilde;es</th>
		                <th>C&oacute;digo</th>
		                <th>Nome</th>
		            </tr>
		        </thead>
		        <tfoot>
		            <tr>
		            	<th style="width:60px;" class="">A&ccedil;&otilde;es</th>
		                <th>C&oacute;digo</th>
		                <th>Nome</th>
		            </tr>
		        </tfoot>
			</table>	
		</div>
			
		<footer></footer>       	
	</body>
</html>
